# Test Case Documentation Tool - Version 2 Enhancement Plan

## Overview
This document outlines proposed enhancements for Version 2 of the Test Case Documentation Tool, focusing on user experience improvements, UI enhancements, and additional features.

## Repository
**Remote**: https://github.com/louisgarnier/Documentation.git

---

## UX/UI Enhancement Ideas

### 1. Step Editor UI Redesign üìù
**Priority**: High
**Status**: ‚úÖ Completed (Core Features)

**Goal**: Redesign the step editing interface for better usability and faster workflow.

#### Sub-task 1.1: Basic Layout Change ‚úÖ
**Status**: ‚úÖ Completed
- [x] Move Step Number to top-right corner (small, compact)
- [x] Move Description to top-left (large, takes majority of space)
- [x] Move Notes below Description and Step Number (full-width)
- [x] Keep Screenshots section below Notes

**Additional Changes Made:**
- [x] Changed Description from multi-line text area to single-row text input
- [x] Positioned Delete checkbox to the right of Step # (using nested columns)
- [x] Simplified file uploader: removed header text, changed label to "Add files"
- [x] Applied layout changes to both "Edit Step" and "Add New Step" forms

**Test**: ‚úÖ Verified - Open a step, verify new layout positions

---

#### Sub-task 1.5: Enhanced Drag & Drop (Future/Optional)
**Status**: ‚è≠Ô∏è Deferred
- [ ] Note: Streamlit's file_uploader already supports drag-and-drop
- [ ] (Optional) Custom JavaScript for drop-zone anywhere on the Step section - **Complex to implement in Streamlit, deferred for now**

**Test**: Drag image to file uploader area (already works)

**Note**: Core redesign is complete. Enhanced drag-and-drop is optional and can be implemented later if needed.

---

#### Sub-task 1.6: Step Reordering ‚úÖ
**Status**: ‚úÖ Completed (Position Selector Implementation)
- [x] Add ability to reorder steps within a test case
- [x] Implement position selector dropdown for reordering steps
- [x] Position selector placed at top of expander (outside form for immediate trigger)
- [x] Update step numbers automatically when reordering
- [x] Implement insert/shift logic (not swap) when moving steps
- [x] Fixed session state tracking to avoid infinite loops
- [x] Test: Can reliably reorder steps using position selector

**Changes Made:**
- [x] Added `reorder_steps()` function in `models.py` to reorder steps by providing a list of step IDs in desired order
- [x] Added `swap_step_numbers()` function (kept for backward compatibility)
- [x] Implemented position selector dropdown in step expander (outside form)
- [x] Fixed insert/shift logic to properly handle forward and backward movements
- [x] Improved session state tracking to prevent infinite loops when multiple steps are moved
- [x] Implemented drag-and-drop interface using `streamlit.components.v1.html` with SortableJS library
- [x] Steps displayed as draggable items with drag handle (‚ãÆ‚ãÆ), step number, and description
- [x] Users can drag steps to reorder them (e.g., drag step 3 between step 1 and 2)
- [x] Step numbers are automatically reassigned sequentially (1, 2, 3...) after reordering
- [x] Page refreshes after reorder to show new order
- [x] Success/error messages displayed after reorder operation
- [x] Visual feedback with grab cursor and smooth animations

**Note**: The drag-and-drop uses HTML/JavaScript embedded in Streamlit. If communication issues occur, the implementation can be refined or a fallback UI can be added.

**Test**: ‚úÖ To be verified - Open test case with multiple steps, drag and drop steps to reorder, verify step numbers update and order persists

---

### 2. Enhanced Visual Design & UX Improvements üé®
**Priority**: High
**Status**: ‚è≠Ô∏è In Progress

**Goal**: Improve the overall user experience on "All Test Cases" and "Test Case Details" pages to make data entry faster and more intuitive.

#### Sub-task 2.1: Button Improvements ‚úÖ
**Status**: ‚úÖ Completed
- [x] Make all buttons wider (use_container_width=True where missing)
- [x] Test: Buttons are easier to click

**Additional Changes Made:**
- [x] Moved "‚Üê Back to All Test Cases" button to header (right side of "Test Case Details" heading)
- [x] Removed "‚úèÔ∏è Edit Test Case" button - fields are now always editable
- [x] Test Number, Created, and Description fields are directly editable (no separate edit mode)
- [x] Removed edit mode toggle logic and unsaved changes warning (simplified workflow)
- [x] Removed large "Save Changes" and "Cancel" buttons at bottom
- [x] Added compact "üíæ Save" button in header (between heading and back button)

**Test**: ‚úÖ Verified - All buttons are wider, save button in header, fields directly editable, cleaner interface

---

#### Sub-task 2.2: Spacing & Typography ‚úÖ
**Status**: ‚úÖ Completed
- [x] Add more spacing between sections (added st.write("") between major sections)
- [x] Improve text area heights for better readability (increased from 100-120px to 120-150px)
- [x] Test: Interface feels less cramped

**Changes Made:**
- [x] Increased Description text area height from 100px to 120px
- [x] Increased Notes text area height from 120px to 150px
- [x] Added spacing after Description field
- [x] Added spacing before/after "Steps" section
- [x] Added spacing before "Add New Step" form

**Test**: ‚úÖ Verified - More breathing room, better readability, less cramped interface

---

#### Sub-task 2.3: All Test Cases Page UI Review & Improvement ‚úÖ
**Status**: ‚úÖ Completed
- [x] Review current "All Test Cases" page UI/UX
- [x] Replace button-based rows with a cleaner table/card layout
- [x] Improve visual separation between rows
- [x] Better hover states and visual feedback (via help text)
- [x] Smoother selection/checkbox interaction
- [x] Better spacing and typography
- [x] Card-based layout with containers
- [x] Test: Interface is more user-friendly and smoother

**Changes Made:**
- [x] Replaced multiple button cells with clean table layout (separate columns for Test Number, Description, Created, Actions)
- [x] Added table headers (Export, Test Number, Description, Created, Actions)
- [x] Implemented CSS styling to make buttons look like text rows (transparent background, no borders)
- [x] Added hover effects (light gray background on hover)
- [x] Faded date column styling (lighter color #999)
- [x] Increased button height (min-height: 60px) for larger clickable area
- [x] Entire row is clickable (Test Number, Description, and Date columns all navigate to details)
- [x] Added visual separators (horizontal rules) between rows
- [x] Improved checkbox interaction with help text
- [x] Better column proportions for cleaner layout

**Test**: ‚úÖ Verified - Clean table interface similar to modern project management tools, larger clickable areas, better UX

---

#### Sub-task 2.4: Form Optimization ‚úÖ
**Status**: ‚úÖ Completed
- [x] Optimize form layouts for faster data entry
- [x] Add better placeholders and help text
- [x] Test: Forms are easier to fill out

**Changes Made:**
- [x] **Create Test Case Form**: Enhanced placeholders with examples, improved help text with emojis and clear guidance
- [x] **Edit Test Case Form**: Added placeholders even when fields have values, improved help text for better clarity
- [x] **Add Step Form**: Enhanced placeholders with specific examples (e.g., "Navigate to Order Entry module..."), improved help text for all fields
- [x] **Edit Step Form**: Added placeholders and improved help text for Description, Notes, and Step Number fields
- [x] **Screenshot Upload**: Improved label from "Add files" to "Add Screenshots (Optional)" with better help text
- [x] **Notes Field**: Added example placeholder showing format for modules, calculations, and configuration
- [x] **Help Text**: Added emojis (üí°, üìù, üìã, üì∏, üî¢, üìÖ) for visual clarity and better scanning
- [x] **Placeholders**: Made placeholders more specific and actionable with real-world examples

**Test**: ‚úÖ Verified - Forms have clearer guidance, better examples, and more helpful placeholders

---

#### Sub-task 2.5: Loading States (Optional)
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add loading indicators for long operations
- [ ] Test: Users see feedback during operations

**Test**: Trigger long operation, verify loading indicator appears

---



### 3. Enhanced Excel Export Visual Design üìä
**Priority**: High
**Status**: ‚è≠Ô∏è Not Started

**Goal**: Create a professional, well-formatted Excel export with proper layout, color coding, and functional navigation.

#### Sub-task 3.1: Color-Code Headers
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add background color to Summary sheet headers
- [ ] Add background color to test case sheet headers
- [ ] Use consistent color scheme
- [ ] Test: Export Excel, verify headers are colored

**Test**: Export Excel, open file, check headers have colors

---

#### Sub-task 3.2: Working Hyperlinks
**Status**: ‚è≠Ô∏è Not Started
- [ ] Make test case IDs in Summary sheet clickable links to test case sheets
- [ ] Make "Go to Summary" links work in test case sheets
- [ ] Test: Click links in Excel, verify navigation works

**Test**: Export Excel, click links, verify they navigate correctly

---

#### Sub-task 3.3: Better Screenshot Layout
**Status**: ‚è≠Ô∏è Not Started
- [ ] Improve screenshot sizing in Excel
- [ ] Better spacing around screenshots
- [ ] Test: Screenshots look good in Excel

**Test**: Export Excel with screenshots, verify layout looks good

---

#### Sub-task 3.4: Professional Formatting
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add borders to cells
- [ ] Improve text formatting (bold headers, proper wrapping)
- [ ] Auto-adjust column widths
- [ ] Test: Excel looks professional

**Test**: Export Excel, verify formatting is clean and professional

---

### 4. Tags & Categories System üè∑Ô∏è
**Priority**: Medium
**Status**: ‚è≠Ô∏è Not Started

**Goal**: Add tagging and categorization functionality to the "All Test Cases" page for better organization and filtering.

#### Sub-task 4.1: Add Tags Database Field
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add `tags` field to test_cases table
- [ ] Update models to support tags
- [ ] Test: Database migration works

**Test**: Run app, verify no database errors

---

#### Sub-task 4.2: Tag Input in Test Case Form
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add tag input field to "Create Test Case" form
- [ ] Add tag input field to "Edit Test Case" form
- [ ] Save tags to database
- [ ] Test: Can create/edit test case with tags

**Test**: Create test case with tags, verify tags are saved

---

#### Sub-task 4.3: Display Tags in Table
**Status**: ‚è≠Ô∏è Not Started
- [ ] Show tags as badges/chips in "All Test Cases" table
- [ ] Test: Tags appear in table

**Test**: View test cases, verify tags display as badges

---

#### Sub-task 4.4: Tag Filtering
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add filter dropdown/input for tags
- [ ] Filter test cases by selected tags
- [ ] Test: Can filter by tags

**Test**: Select tag filter, verify only matching test cases show

---

### 5. Enhanced Screenshot Management System üì∏
**Priority**: High
**Status**: ‚è≠Ô∏è Not Started (tied to Requirement #1)

**Goal**: Implement comprehensive screenshot management features integrated with the Step Editor redesign (Requirement #1).

**Note**: Most features are covered in Requirement #1 sub-tasks. Additional features below.

#### Sub-task 5.1: Screenshot Reordering (Future)
**Status**: ‚è≠Ô∏è Not Started
- [ ] Allow drag-and-drop to reorder screenshots
- [ ] Test: Can reorder screenshots

**Test**: Drag screenshot to new position, verify order changes

---

#### Sub-task 5.2: Image Optimization (Future)
**Status**: ‚è≠Ô∏è Not Started
- [ ] Compress images on upload
- [ ] Test: Uploaded images are smaller but still good quality

**Test**: Upload large image, verify file size is reduced

---

### 6. Advanced Export Options üì§
**Priority**: Medium
**Status**: ‚è≠Ô∏è Not Started

**Goal**: Provide multiple export formats and options to meet different documentation needs.

#### Sub-task 6.1: PDF Export
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add PDF export button
- [ ] Create PDF with test case data
- [ ] Test: Can export to PDF

**Test**: Click PDF export, verify PDF file is generated

---

#### Sub-task 6.2: Word Export
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add Word export button
- [ ] Create .docx file with test case data
- [ ] Test: Can export to Word

**Test**: Click Word export, verify .docx file is generated

---

#### Sub-task 6.3: Export Date Range Filter
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add date range picker to export
- [ ] Filter test cases by date range
- [ ] Test: Export only includes test cases in date range

**Test**: Set date range, export, verify only matching test cases included




### 7. Performance Optimizations ‚ö°
**Priority**: Medium
**Status**: ‚è≠Ô∏è Not Started

**Goal**: Optimize application performance to handle large datasets and ensure smooth user experience.

#### Sub-task 7.1: Add Pagination
**Status**: ‚è≠Ô∏è Not Started
- [ ] Add pagination to "All Test Cases" when > 50 test cases
- [ ] Test: Can navigate through pages

**Test**: Create 60+ test cases, verify pagination appears and works

---

#### Sub-task 7.2: Image Compression
**Status**: ‚è≠Ô∏è Not Started
- [ ] Compress images on upload
- [ ] Test: Uploaded images are smaller

**Test**: Upload large image, check file size is reduced

---

#### Sub-task 7.3: Export Progress Bar
**Status**: ‚è≠Ô∏è Not Started
- [ ] Show progress bar during Excel export
- [ ] Test: Progress bar appears during export

**Test**: Export large dataset, verify progress bar shows

---


## Implementation Priority

### ‚úÖ Requirement #1 - Step Editor UI Redesign: COMPLETED

**Completed:**
1. ‚úÖ **Sub-task 1.1**: Basic Layout Change - COMPLETED
   - New layout with Description (left), Step # + Delete (right)
   - Notes field full-width below
   - Simplified file uploader
   - Applied to both Edit and Add forms

**Deferred (Optional):**
- Sub-task 1.5: Enhanced Drag & Drop - Deferred (complex in Streamlit)

**Completed:**
- Sub-task 1.6: Step Reordering - ‚úÖ Completed - Users can reorder steps using up/down arrows, step numbers swap automatically

---

### Current Focus: Next Requirements

**Next Steps:**
- **Requirement #2**: Enhanced Visual Design & UX Improvements (Sub-task 2.1: Button Improvements - recommended start)
- **Requirement #3**: Excel Export Visual Design (one sub-task at a time)

---

## Notes
- Requirements 1, 4, and 5 are closely related and should be implemented together
- Excel export improvements (Requirement 3) should align with overall visual design (Requirement 2)
- Performance optimizations (Requirement 7) should be considered throughout development
- User feedback should drive priority adjustments

---

## Next Steps
1. Review and validate requirements with stakeholders
2. Create detailed technical specifications for Phase 1 requirements
3. Begin implementation with Step Editor UI Redesign (Requirement 1)
4. Iterate based on user feedback